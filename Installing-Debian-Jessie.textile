h2. Installing Debian "Jessie" 8.2

This guide is not to be a replacement of the official Debian Installer documentation, but instead be a quick walkthrough for the network installer. You can find the original documentation at "https://www.debian.org/releases/jessie/arm64/index.html.en":https://www.debian.org/releases/jessie/arm64/index.html.en

h3. Setting up the TFTP server

Back to your dnsmasq server (check "this link":https://github.com/96boards/documentation/wiki/DHCP-TFTP-server-for-UEFI-distro-network-installers for instructions on how to setup your own TFTP/DCHP server), download the required Debian installer files at your tftp-root directory. In this example, this directory is configured to @/srv/tftp@.

Since the kernel, initrd and GRUB 2 is part of the debian-installer tarball, that is all you need.

Downloading debian-installer:

bc. sudo su -
cd /srv/tftp/
wget http://http.us.debian.org/debian/dists/jessie/main/installer-arm64/current/images/netboot/netboot.tar.gz
tar -zxvf netboot.tar.gz

You should now have the following file tree structure:

bc. /srv/tftp/
├── debian-installer
│   └── arm64
│       ├── bootnetaa64.efi
│       ├── grub
│       │   ├── arm64-efi
│       │   │   ├── acpi.mod
│       │   │   ├── adler32.mod
│       │   │   ├── all_video.mod
│       │   │   ├── archelp.mod
│       │   │   ├── bfs.mod
│       │   │   ├── bitmap.mod
│       │   │   ├── bitmap_scale.mod
│       │   │   ├── blocklist.mod
│       │   │   ├── boot.mod
│       │   │   ├── btrfs.mod
│       │   │   ├── bufio.mod
│       │   │   ├── cat.mod
│       │   │   ├── cbfs.mod
│       │   │   ├── chain.mod
│       │   │   ├── cmdline_cat_test.mod
│       │   │   ├── cmp.mod
│       │   │   ├── command.lst
│       │   │   ├── cpio_be.mod
│       │   │   ├── cpio.mod
│       │   │   ├── crc64.mod
│       │   │   ├── cryptodisk.mod
│       │   │   ├── crypto.lst
│       │   │   ├── crypto.mod
│       │   │   ├── datehook.mod
│       │   │   ├── date.mod
│       │   │   ├── datetime.mod
│       │   │   ├── diskfilter.mod
│       │   │   ├── disk.mod
│       │   │   ├── div_test.mod
│       │   │   ├── dm_nv.mod
│       │   │   ├── echo.mod
│       │   │   ├── efifwsetup.mod
│       │   │   ├── efi_gop.mod
│       │   │   ├── efinet.mod
│       │   │   ├── elf.mod
│       │   │   ├── eval.mod
│       │   │   ├── exfat.mod
│       │   │   ├── exfctest.mod
│       │   │   ├── ext2.mod
│       │   │   ├── extcmd.mod
│       │   │   ├── fat.mod
│       │   │   ├── file.mod
│       │   │   ├── font.mod
│       │   │   ├── fs.lst
│       │   │   ├── gcry_arcfour.mod
│       │   │   ├── gcry_blowfish.mod
│       │   │   ├── gcry_camellia.mod
│       │   │   ├── gcry_cast5.mod
│       │   │   ├── gcry_crc.mod
│       │   │   ├── gcry_des.mod
│       │   │   ├── gcry_dsa.mod
│       │   │   ├── gcry_idea.mod
│       │   │   ├── gcry_md4.mod
│       │   │   ├── gcry_md5.mod
│       │   │   ├── gcry_rfc2268.mod
│       │   │   ├── gcry_rijndael.mod
│       │   │   ├── gcry_rmd160.mod
│       │   │   ├── gcry_rsa.mod
│       │   │   ├── gcry_seed.mod
│       │   │   ├── gcry_serpent.mod
│       │   │   ├── gcry_sha1.mod
│       │   │   ├── gcry_sha256.mod
│       │   │   ├── gcry_sha512.mod
│       │   │   ├── gcry_tiger.mod
│       │   │   ├── gcry_twofish.mod
│       │   │   ├── gcry_whirlpool.mod
│       │   │   ├── geli.mod
│       │   │   ├── gettext.mod
│       │   │   ├── gfxmenu.mod
│       │   │   ├── gfxterm_background.mod
│       │   │   ├── gfxterm_menu.mod
│       │   │   ├── gfxterm.mod
│       │   │   ├── gptsync.mod
│       │   │   ├── grub.cfg
│       │   │   ├── gzio.mod
│       │   │   ├── halt.mod
│       │   │   ├── hashsum.mod
│       │   │   ├── help.mod
│       │   │   ├── hexdump.mod
│       │   │   ├── hfs.mod
│       │   │   ├── hfspluscomp.mod
│       │   │   ├── hfsplus.mod
│       │   │   ├── http.mod
│       │   │   ├── jfs.mod
│       │   │   ├── jpeg.mod
│       │   │   ├── keystatus.mod
│       │   │   ├── ldm.mod
│       │   │   ├── linux.mod
│       │   │   ├── loadenv.mod
│       │   │   ├── loopback.mod
│       │   │   ├── lsacpi.mod
│       │   │   ├── lsefimmap.mod
│       │   │   ├── lsefi.mod
│       │   │   ├── lsefisystab.mod
│       │   │   ├── lsmmap.mod
│       │   │   ├── ls.mod
│       │   │   ├── lssal.mod
│       │   │   ├── luks.mod
│       │   │   ├── lvm.mod
│       │   │   ├── lzopio.mod
│       │   │   ├── macbless.mod
│       │   │   ├── macho.mod
│       │   │   ├── mdraid09_be.mod
│       │   │   ├── mdraid09.mod
│       │   │   ├── mdraid1x.mod
│       │   │   ├── memrw.mod
│       │   │   ├── minicmd.mod
│       │   │   ├── minix2_be.mod
│       │   │   ├── minix2.mod
│       │   │   ├── minix3_be.mod
│       │   │   ├── minix3.mod
│       │   │   ├── minix_be.mod
│       │   │   ├── mmap.mod
│       │   │   ├── moddep.lst
│       │   │   ├── mpi.mod
│       │   │   ├── msdospart.mod
│       │   │   ├── net.mod
│       │   │   ├── newc.mod
│       │   │   ├── normal.mod
│       │   │   ├── ntfscomp.mod
│       │   │   ├── ntfs.mod
│       │   │   ├── odc.mod
│       │   │   ├── offsetio.mod
│       │   │   ├── part_acorn.mod
│       │   │   ├── part_amiga.mod
│       │   │   ├── part_apple.mod
│       │   │   ├── part_bsd.mod
│       │   │   ├── part_dfly.mod
│       │   │   ├── part_dvh.mod
│       │   │   ├── part_gpt.mod
│       │   │   ├── partmap.lst
│       │   │   ├── part_msdos.mod
│       │   │   ├── part_plan.mod
│       │   │   ├── part_sun.mod
│       │   │   ├── part_sunpc.mod
│       │   │   ├── parttool.lst
│       │   │   ├── parttool.mod
│       │   │   ├── password.mod
│       │   │   ├── password_pbkdf2.mod
│       │   │   ├── pbkdf2.mod
│       │   │   ├── pbkdf2_test.mod
│       │   │   ├── png.mod
│       │   │   ├── priority_queue.mod
│       │   │   ├── probe.mod
│       │   │   ├── procfs.mod
│       │   │   ├── progress.mod
│       │   │   ├── raid5rec.mod
│       │   │   ├── raid6rec.mod
│       │   │   ├── read.mod
│       │   │   ├── reboot.mod
│       │   │   ├── regexp.mod
│       │   │   ├── reiserfs.mod
│       │   │   ├── romfs.mod
│       │   │   ├── scsi.mod
│       │   │   ├── serial.mod
│       │   │   ├── setjmp.mod
│       │   │   ├── setjmp_test.mod
│       │   │   ├── signature_test.mod
│       │   │   ├── sleep.mod
│       │   │   ├── sleep_test.mod
│       │   │   ├── squash4.mod
│       │   │   ├── syslinuxcfg.mod
│       │   │   ├── terminal.lst
│       │   │   ├── terminal.mod
│       │   │   ├── terminfo.mod
│       │   │   ├── test_blockarg.mod
│       │   │   ├── testload.mod
│       │   │   ├── test.mod
│       │   │   ├── testspeed.mod
│       │   │   ├── tftp.mod
│       │   │   ├── tga.mod
│       │   │   ├── time.mod
│       │   │   ├── trig.mod
│       │   │   ├── tr.mod
│       │   │   ├── true.mod
│       │   │   ├── udf.mod
│       │   │   ├── ufs1_be.mod
│       │   │   ├── ufs1.mod
│       │   │   ├── ufs2.mod
│       │   │   ├── verify.mod
│       │   │   ├── video_colors.mod
│       │   │   ├── video_fb.mod
│       │   │   ├── videoinfo.mod
│       │   │   ├── video.lst
│       │   │   ├── video.mod
│       │   │   ├── videotest_checksum.mod
│       │   │   ├── videotest.mod
│       │   │   ├── xfs.mod
│       │   │   ├── xnu_uuid.mod
│       │   │   ├── xnu_uuid_test.mod
│       │   │   ├── xzio.mod
│       │   │   └── zfscrypt.mod
│       │   ├── font.pf2
│       │   └── grub.cfg
│       ├── initrd.gz
│       └── linux
├── netboot.tar.gz
└── version.info

Now just make sure that @/etc/dnsmasq.conf@ is pointing out to the right boot file, like:

bc. dhcp-boot=debian-installer/arm64/bootnetaa64.efi

h3. Booting the installer

Now boot your platform of choice, selecting PXE boot when presented by UEFI (make sure to boot with the right network interface, in case more than one is available).

You should see the following (using AMD Seattle's Overdrive as example):

bc. NOTICE:  BL3-1: 
NOTICE:  BL3-1: Built : 18:22:46, Nov 23 2015
INFO:    BL3-1: Initializing runtime services
INFO:    BL3-1: Preparing for EL3 exit to normal world
INFO:    BL3-1: Next image address = 0x8000000000
INFO:    BL3-1: Next image spsr = 0x3c9
Boot firmware (version  built at 18:27:24 on Nov 23 2015)
Version 2.17.1249. Copyright (C) 2015 American Megatrends, Inc.                 
BIOS Date: 11/23/2015 18:23:09 Ver: ROD0085E00                                  
Press <DEL> or <ESC> to enter setup.  
.
>>Checking Media Presence......
>>Media Present......
>>Start PXE over IPv4.
  Station IP address is 192.168.3.57
  Server IP address is 192.168.3.1
  NBP filename is BOOTAA64.EFI
  NBP filesize is 885736 Bytes
>>Checking Media Presence......
>>Media Present......
 Downloading NBP file...
 Succeed to download NBP file.
 Fetching Netboot Image

At this stage you should be able to see the Grub 2 menu, like:

bc. Install
Advanced options ...
Install with speech synthesis
.
Use the  and  keys to change the selection.                       
Press 'e' to edit the selected item, or 'c' for a command prompt.

Now just hit enter and wait for the kernel and initrd to load, which automatically loads the installer and provides you the installer console menu, so you can finally install Debian.

You should see the following:

bc. EFI stub: Booting Linux Kernel...
EFI stub: Using DTB from configuration table
EFI stub: Exiting boot services and installing virtual address map...
[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Initializing cgroup subsys cpuset
[    0.000000] Initializing cgroup subsys cpu
[    0.000000] Initializing cgroup subsys cpuacct
[    0.000000] Linux version 4.2.3-300.fc23.aarch64 (mockbuild@aarch64-08a.arm.fedoraproject.org) (gcc version 5.1.1 20150618 (Red Hat 5.1.1-4) (GCC) ) #1 SMP Thu Oct 8 01:39:38 UTC 2015
[    0.000000] CPU: AArch64 Processor [411fd072] revision 2
[    0.000000] Detected PIPT I-cache on CPU0
[    0.000000] alternatives: enabling workaround for ARM erratum 832075
[    0.000000] efi: Getting EFI parameters from FDT:
[    0.000000] EFI v2.40 by American Megatrends
[    0.000000] efi:  ACPI 2.0=0x83ff1c6000  SMBIOS 3.0=0x83ff349718
...
  ┌───────────────────────┤ [!!] Select a language ├────────────────────────┐
  │                                                                         │
  │ Choose the language to be used for the installation process. The        │
  │ selected language will also be the default language for the installed   │
  │ system.                                                                 │
  │                                                                         │
  │ Language:                                                               │
  │                                                                         │
  │                               C                                         │
  │                               English                                   │
  │                                                                         │
  │     <Go Back>                                                           │
  │                                                                         │
  └─────────────────────────────────────────────────────────────────────────┘
<Tab> moves; <Space> selects; <Enter> activates buttons

TODO: update the kernel and image used, since the kernel from jessie doesn't work well with Seattle.

h3. Finishing the installation

For using the installer, please check the documentation available at "https://www.debian.org/releases/jessie/arm64/ch06.html.en":https://www.debian.org/releases/jessie/arm64/ch06.html.en

Once the installation is completed, you should be able to simply reboot the system in order to boot your new Debian system.